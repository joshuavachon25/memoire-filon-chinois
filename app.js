const similaire1 = [

    ["八", "bā", "8"],
    ["爸", "bà", "papa"],
    ["大", "dà", "grand"],
    ["打", "dǎ", "frapper"],
    ["都", "dōu", "tous"],
    ["多", "duō", "combien/beaucoup"],
    ["二", "èr", "2"],
    ["儿(子)", "ér", "fils"],
    ["的", "de", "marqueur de possession"],
    ["(觉)得", "de", "penser que"],
    ["个", "gè", "spécificatif universel"],
    ["哥", "gē", "grand frère"],
    ["和", "hé", "et"], 
    ["喝", "hē", "boire"],
    ["后", "hòu", "derrière"],
    ["(什么时)侯", "(shénme shí)hòu", "quand"],
    ["课", "kè", "cours"],
    ["可", "kě", "pouvoir"],
    ["家", "jiā", "famille"],
    ["加", "jiā", "Canada"],
    ["吗", "ma", "particule de questionnement"],
    ["妈", "mā", "maman"],
    ["没", "méi", "ne pas avoir"],
    ["每", "měi", "chaque/tous les"],
    ["哪", "nǎ", "quel(le)"],
    ["那", "nà", "that/cela"],
    ["男", "nán", "homme"],
    ["难", "nán", "difficile"],
    ["名", "míng", "nom"],
    ["明", "míng", "demain"],
    ["七", "qī", "7"],
    ["(一)起", "qǐ", "ensemble"],
    ["人", "rén", "individu"],
    ["认", "rèn", "(re)connaître"],
    ["是", "shì", "être"],
    ["十", "shí", "10"],
    ["他", "tā", "il"],
    ["她", "tā", "elle"],
    ["们", "men", "marqueur de pluriel pour individu"],
    ["门", "mén", "porte"],
    ["水", "shuǐ", "eau"],
    ["谁", "shuí/shéi", "qui"],
    ["写", "xiě", "écrire"],
    ["谢", "xiè", "merci"],
    ["姓", "xìng", "s'appeler (nom de famille)"],
    ["星(期)", "xīng", "semaine"],
    ["在", "zài", "se trouver"],
    ["再(见)", "zài", "au revoir"],
    ["张", "zhāng", "spécificatif pour objets plats"],
    ["张", "zhāng", "nom de famille"],
    ["有", "yǒu", "avoir"],
    ["右", "yòu", "droite"],
    ["做", "zuò", "faire"],
    ["左", "zuǒ", "gauche"],
    ["也", "yě", "aussi"],
    ["(作)业", "yè", "devoir"],
    ["五", "wǔ", "5"],
    ["(下)午", "wǔ", "après-midi"],
    ["电", "diàn", "électrique"],
    ["点", "diǎn", "heure"],
    ["号", "hào", "jour/chiffre"],
    ["好", "hǎo", "bien/bon"], 
    ["子", "zǐ", "enfant (suffixe)"], 
    ["字", "zì", "caractères/lettre/nom"]

]

const lecon1 = [

    ["马克", "Mǎkè", "Mark"],
    ["大伟", "Dàwěi", "David"],
    ["你", "nĭ", "Tu, toi"],
    ["好", "hăo", "bien, bon"],
    ["吗", "ma", "{interrogation}"],
    ["我", "wŏ", "Je, moi"],
    ["很", "hĕn", "très"],
    ["呢", "ne", "{ellipse interrogative}"],
    ["也", "yĕ", "aussi"],
    ["谢谢", "xièxie", "merci ou remercier"],
    ["再见", "zàijiàn", "au revoir"],
    ["拜拜", "bàibài", "bye bye"],
    ["你们", "nǐmen", "vous"],
    ["不客气", "bú kèqi", "bienvenu, de rien"]

]

const lecon2 = [

    ["一", "yī", "un"],
    ["二", "èr", "deux"],
    ["三", "sān", "trois"],
    ["四", "sì", "quatre"],
    ["五", "wǔ", "cinq"],
    ["六", "liù", "six"],
    ["七", "qī", "sept"],
    ["八", "bā", "huit"],
    ["九", "jiǔ", "neuf"],
    ["十", "shí", "dix"],
    ["二十", "èrshí", "vingt"],
    ["高兴", "gāoxìng", "content, heureux"],
    ["多大", "duō dà", "combien âgé = quel âge"],
    ["名字", "míngzi", "prénom ou nom {complet}"],
    ["叫", "jiào", "s’appeler {nom complet ou prénom}"],
    ["你好", "nǐ hǎo", "bonjour, allo, salut"],
    ["你好吗", "nǐ hǎo ma", "Tu vas bien?"],
    ["你呢？", "nǐ ne", "et toi?"],
    ["认识", "rènshi", "connaitre (quelqu’un)"],
    ["什么", "shénme", "quoi, quel/le/s"],
    ["岁", "suì", "an {âge}"],
    ["姓", "xìng", "s’appeler {nom de famille}"],
    ["他们", "tāmen", "ils"],
    ["她们", "tāmen", "elles"],
    ["它们", "tāmen", "ils/elles (objet)"],
    ["他", "tā", "il"],
    ["她", "tā", "elle"],
    ["它", "tā", "il/elle/on (objet)"],
    ["我们", "wǒmen", "nous"],
    ["您", "nín", "tu (polie)"]

]

const lecon3 = [

    ["对不起", "duìbùqǐ", "Excusez-moi."],
    ["没关系", "méi guānxi", "Ça ne fait rien."],
    ["玛丽", "Mǎlì", "Marie"],
    ["怎么样", "zěnme yàng", "Comment ça va?"],
    ["文生", "Wénshēng", "Vincent"],
    ["都", "dōu", "tous"],
    ["现在", "xiànzài", "maintenant"],
    ["不", "bù", "non, ne...pas"],
    ["咖啡", "kāfēi", "café"],
    ["水", "shuǐ", "eau"],
    ["好的", "hǎo de", "d'accord"],
    ["坐", "zuò", "(s') asseoir"],
    ["要", "yào", "vouloir"],
    ["忙", "máng", "occupé"],
    ["好看", "hǎokàn", "beau/belle"],
    ["累", "lèi", "épuisé"],
    ["渴", "kě", "assoiffé"],
    ["饿", "è", "(avoir) faim, affamé"]

]

const lecon4 = [

    ["您好", "nín hǎo", "Bonjour {poli}"],
    ["请问", "qǐngwèn", "Puis-je vous/te demander"],
    ["贵姓", "guìxìng", "s’appeler (polie) {nom de famille}"],
    ["张", "Zhāng", "{nom de famille}"],
    ["王", "Wáng", "{nom de famille}"],
    ["是", "shì", "être"],
    ["哪", "nǎ", "quel (which)"],
    ["国", "guó", "pays"],
    ["人", "rén", "personne, humain"],
    ["老师", "lǎoshī", "professeur, enseignant"],
    ["同学", "tóngxué", "camarade de classe"],
    ["学生", "xuésheng", "étudiant/e"],
    ["朋友", "péngyou", "ami/e"],
    ["汉语", "hànyǔ", "mandarin"],
    ["法语", "fǎyǔ", "français"],
    ["男人", "nánrén", "homme"],
    ["女人", "nǚrén", "femme"],
    ["电邮", "diànyóu", "courriel (@)"],
    ["多少", "duōshǎo", "combien"],
    ["电话", "diànhuà", "téléphone"],
    ["号码", "hàomǎ", "numéro"],
    ["中国人", "Zhōngguó rén", "Chinois"],
    ["加拿大人", "Jiānádà rén", "Canadien"],
    ["中国", "Zhōngguó", "Chine"],
    ["加拿大", "Jiānádà", "Canada"],
    ["美国", "Měiguó", "États-Unis"],
    ["法国", "Fǎguó", "France"],
    ["日本", "Rìběn", "Japon"],
    ["英国", "Yīngguó", "Royaume-Uni"]

]

const lecon5 = [

    ["家人", "jiārén", "membre d’une famille"],
    ["家", "jiā", "famille, chez-soi, maison (home)"],
    ["安娜", "Ānnà", "Anna"],
    ["有", "yǒu", "avoir/il y a"],
    ["几", "jǐ", "combien"],
    ["口", "kǒu", "{bouche à nourrir}"],
    ["谁", "shuí(shéi)", "qui"],
    ["个", "gè", "{universel}"],
    ["和", "hé", "et"],
    ["两", "liǎng", "deux"],
    ["还是", "háishì", "ou bien"],
    ["日本人", "rìběn rén", "Japonais/e"],
    ["中国人", "zhōngguó rén", "Chinois/e"],
    ["做", "zuò", "faire {concrètement}"],
    ["工作", "gōngzuò", "travail/ler"],
    ["没(有)", "méi (yǒu)", "ne pas avoir"],
    ["喜欢", "xǐhuan", "aimer {to like}"],
    ["看书", "kànshū", "lire (un livre)"],
    ["姐姐", "jiějie", "soeur aînée"],
    ["爸爸", "bàba", "papa"],
    ["妈妈", "māma", "maman"],
    ["孩子", "háizi", "enfant/s"],
    ["弟弟", "dìdi", "frère cadet"],
    ["哥哥", "gēge", "frère aîné"],
    ["妹妹", "mèimei", "soeur cadette"],
    ["父母", "fùmǔ", "parents"],
    ["父亲", "fùqin", "père"],
    ["母亲", "mǔqin", "mère"],
    ["儿子", "érzi", "fils"],
    ["女儿", "nǚ’ér", "fille"],
    ["兄弟姐妹", "xiōngdì jiěmèi", "frères et soeurs"]

]

const lecon6 = [

    ["这里", "zhèlǐ", "ici"],
    ["里(边)", "lǐ(bian)", "dans, à l'intérieur"],
    ["后边", "hòubian", "derrière, en arrière"],
    ["上边", "shàngbian", "sur, au-­dessus, haut"],
    ["前边", "qiánbian", "devant, en avant"],
    ["旁边", "pángbian", "côté"],
    ["外边", "wài(bian)", "dehors, à l'extérieur"],
    ["下边", "xiàbian", "sous, en-dessous, bas"],
    ["左边", "zuǒbian", "gauche"],
    ["右边", "yòubian", "droite"],
    ["中间", "zhōngjiān", "centre, milieu"],
    ["饭馆", "fànguǎn", "restaurant"],
    ["商店", "shāngdiàn", "magasin"],
    ["学校", "xuéxiào", "école"],
    ["看", "kàn", "regarder"],
    ["这", "zhè", "ce(s), cet/te(s)"],
    ["照片", "zhàopiàn", "photo"],
    ["在", "zài", "être (à un endroit) / se trouver"],
    ["哪里", "nǎlǐ", "où"],
    ["漂亮", "piàoliang", "jolie"],
    ["那", "nà", "ce/tte, cela (loin)"],
    ["那里", "nàlǐ", "là-bas"]

]

const lecon7 = [

    ["星期六", "xīngqī liù", "samedi"],
    ["星期日", "xīngqī rì", "dimanche"],
    ["星期", "xīngqī", "semaine"],
    ["点", "diǎn", "heure {précise}"],
    ["周末", "zhōumò", "fin de semaine"],
    ["每天", "měi tiān", "chaque jour"],
    ["一般", "yìbān", "normalement"],
    ["最近", "zuìjìn", "dernièrement"],
    ["早上", "zǎoshàng", "matin"],
    ["中午", "zhōngwǔ", "midi"],
    ["晚上", "wǎnshàng", "soir"],
    ["下午", "xiàwǔ", "après­-midi"],
    ["上午", "shàngwǔ", "avant-midi"],
    ["吃早饭", "chī zǎofàn", "déjeuner"],
    ["吃午饭", "chī wǔfàn", "dîner"],
    ["吃晚饭", "chī wǎnfàn", "souper"],
    ["上课", "shàngkè", "avoir/débuter un cours"],
    ["下课", "xiàkè", "terminer un cours"],
    ["做作业", "zuò zuòyè", "faire ses devoirs"]
    ["起床", "qǐchuáng ", "se lever"],
    ["对了", "duì le", "au fait"],
    ["多", "duō", "beaucoup, nombreux"],
    ["分", "fēn", "minute"],
    ["那个", "nàge (nèige)", "ça huh...."],
    ["什么 时候", "shénme shíhou", "quand"],
    ["太…了", "tài…le", "trop"],
    ["现在(是)几点", "xiànzài (shì) jǐdiǎn", "Quelle heure est ­il maintenant?"],
    ["运动", "yùndòng", "sport"],
    ["早安", "zǎo'ān", "Bon matin!"],
    ["真", "zhēn", "vraiment"],
    ["知道", "zhīdào", "savoir"]

]

const lecon8 = [

    ["半", "bàn", "demi"],
    ["大家", "dàjiā", "tout le monde"],
    ["下(个)", "xià(ge)", "suivant, prochain"],
    ["下(个)星期", "xià(ge) xīngqī", "semaine suivante"],
    ["月", "yuè", "mois, lune"],
    ["上(个)星期", "shang(ge) xīngqī", "semaine passée"],
    ["下(个)月", "xià(ge) yuè", "mois prochain"],
    ["上(个)月", "shang(ge) yuè", "mois passé"],
    ["天", "tiān", "jour (quantité)"],
    ["昨天", "zuótiān", "hier"],
    ["今天", "jīntiān", "aujourd'hui"],
    ["明天", "míngtiān", "demain"],
    ["星期几", "xīngqī jǐ", "quel jour de la semaine?"],
    ["星期一", "xīngqī yī", "lundi"],
    ["星期二", "xīngqī èr", "mardi"],
    ["星期三", "xīngqī sān", "mercredi"],
    ["星期四", "xīngqī sì", "jeudi"],
    ["星期五", "xīngqī wǔ", "vendredi"],
    ["买东西", "mǎi dōngxi", "magasiner"],
    ["喝酒", "hējiǔ ", "boire (alcool)"],
    ["唱歌", "chànggē", "chanter"],
    ["散步", "sànbù", "se promener"],
    ["看电影", "kàn diànyǐng", "regarder un film"],
    ["安排", "ānpái", "plan"],
    ["跟", "gēn", "avec"],
    ["几月几号", "jǐ yuè jǐ hào", "quel mois et quel jour?"],
    ["快乐", "kuàile", "heureux"],
    ["来", "lái", "venir"],
    ["去", "qù", "aller"],
    ["然后", "ránhòu", "ensuite"],
    ["生日", "shēngrì", "jour de naissance/anniversaire"],
    ["一些", "yìxiē", "certains, quelques"],
    ["一起", "yìqǐ", "ensemble"],
    ["生日 快乐", "shēngrì kuàile!", "Joyeux anniversaire!"]

]

const lecon9 = [

    ["好听", "hǎotīng", "bon (à entendre)"],
    ["好吃", "hǎochī", "bon (à manger)"],
    ["好玩", "hǎowán", "amusant"],
    ["好喝", "hǎohē", "bon (à boire)"],
    ["有意思", "yǒuyìsi", "intéressant"],
    ["足球", "zúqiú", "soccer"],
    ["冰球", "bīngqiú", "hockey"],
    ["网球", "wǎngqiú", "tennis"],
    ["麻将", "májiàng", "majong"],
    ["电视", "diànshì", "télévision"],
    ["书", "shū", "livre"],
    ["电脑", "diànnǎo", "ordinateur"],
    ["音乐", "yīnyuè", "musique"],
    ["电影", "diànyǐng", "film"],
    ["打", "dǎ", "frapper"],
    ["踢", "tī", "botter"],
    ["看", "kàn", "regarder"],
    ["听", "tīng", "écouter"],
    ["玩", "wán", "jouer"],
    ["杯", "bēi", "verre"],
    ["不错", "búcuò", "pas mal"],
    ["菜", "cài", "mets, plat"],
    ["茶", "chá", "thé"],
    ["服务员", "fúwùyuán", "serveur"],
    ["喝", "hē", "boire"],
    ["觉得", "juéde", "penser que"],
    ["考试", "kǎoshì", "faire/avoir un examen ou examen"],
    ["马上", "mǎshàng", "tout de suite"],
    ["难", "nán", "difficile"],
    ["有点", "yǒudiǎn", "avoir un peu, être un peu"],
    ["准备", "zhǔnbèi", "préparer"],
    ["合适", "héshì", "convenable, approprié, aller bien ensemble"],
    ["可是", "kěshì", "mais"],
    ["可以", "kěyǐ", "pouvoir"],
    ["旅游", "lǚyóu", "voyager"],
    ["想", "xiǎng", "avoir envie de"]

]

const listeJeux = [lecon1, lecon2, lecon3, lecon4, lecon5, lecon6, lecon7, lecon8, lecon9, similaire1]
let jeux = []
let nbcartes = 0

let active = []
let score
let pop = document.querySelector(".pop")
let template

function btnCheck(elem){
    elem.parentElement.children[0].children[0].classList.toggle("on")
    elem.parentElement.children[0].children[0].children[0].classList.toggle("pin1")
    elem.parentElement.children[0].children[0].children[0].classList.toggle("pin")
}

function init(){
    let toptions = document.querySelector(".options")
    pop.children[1].style.display = "none";
    let q = 0
    while(q<toptions.children.length){
        if (toptions.children[q].children[1].checked){
            nbcartes += listeJeux[q].length
            jeux.push(listeJeux[q])
        }
        q++
    }
 
    if(nbcartes == 0){
        location.reload()
    }else{
        pop.style.display="none"
        score = 0
        let cartes = document.querySelectorAll(".carte")
        jeux = jeux.flat()
        let jeu = shuffle(jeux)
        jeu = jeu.slice(0, 18)
        let paquet = []
        let z = 0

        for (pair of jeu) {
            paquet.push([z, pair[0], "zh"])
            paquet.push([z, pair[2], "fr", pair[1]])
            z++
        }

        paquet = shuffle(paquet)

        for (let i = 0; i < 36; i++) {
            let nouvelleCarte = document.createElement("div")
            nouvelleCarte.classList.add(paquet[i][2])
            nouvelleCarte.classList.add("carte")
            let match = document.createElement("div")
            match.innerText = paquet[i][0]
            match.classList.add("match")
            let contenu = document.createElement("div")
            contenu.classList.add("contenu")
            if (paquet[i][2] == "zh") {
                contenu.innerHTML = "<span class='caractere'>" + paquet[i][1] + "</span>"
            }else{
                contenu.innerHTML = "<h2>" + paquet[i][1] + "</h2>" + paquet[i][3] 
            }
            
            nouvelleCarte.appendChild(match)
            nouvelleCarte.appendChild(contenu)
            nouvelleCarte.addEventListener("click", () => {tourner(nouvelleCarte)})
            document.getElementById("jeu").appendChild(nouvelleCarte)
        }
    }
}

function shuffle(array) {
    for(let i = array.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * i)
        const temp = array[i]
        array[i] = array[j]
        array[j] = temp
      }
      return array
  }

function tourner(elem){
    elem.classList.add("recto")
    elem.children[1].classList.add("rectoTxt")
    active.push(elem)
    verif()
}

function verif(){
    if (active.length === 2) {
        document.querySelector(".overlay").classList.toggle("show")
        setTimeout(function() {
            if (active[0].children[0].innerText == active[1].children[0].innerText && active[0].children[1].innerText !== active[1].children[1].innerText) {
                active[0].classList.add("trouve")
                active[1].classList.add("trouve")
                score += 1
                if (score == 14) {
                    active[0].children[1].classList.remove("rectoTxt")
                    active[1].children[1].classList.remove("rectoTxt")
                    pop.style.display = "block"
                    pop.children[0].style.display = "none";
                    pop.children[1].style.display = "block";
                    let pts = parseInt(document.querySelector(".coups").innerText) + 1
                    document.querySelector("h3").innerHTML = "Vous avez gagné en " + pts + " coups!"
                }
            }else{
                active[0].classList.remove("recto")
                active[1].classList.remove("recto")
            }
            active[0].children[1].classList.remove("rectoTxt")
            active[1].children[1].classList.remove("rectoTxt")
            active = []
            document.querySelector(".coups").innerText = parseInt(document.querySelector(".coups").innerText) + 1
            document.querySelector(".overlay").classList.toggle("show")
        }, 1000);
        
    }

    
}